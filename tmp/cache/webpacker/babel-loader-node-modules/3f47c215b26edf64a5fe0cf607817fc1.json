{"ast":null,"code":"var main = document.querySelector(\"#main\");\nvar qna = document.querySelector(\"#qna\");\nvar result = document.querySelector(\"#result\");\nvar endPoint = qnaList.length; //const select = [];\n\nvar select = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n\nfunction calResult() {\n  /*\n  var pointArray = [\n    { name: 'mouse', value: 0, key: 0 },\n    { name: 'cow', value: 0, key: 1 },\n    { name: 'tiger', value: 0, key: 2 },\n    { name: 'rabbit', value: 0, key: 3 },\n    { name: 'dragon', value: 0, key: 4 },\n    { name: 'snake', value: 0, key: 5 },\n    { name: 'horse', value: 0, key: 6 },\n    { name: 'sheep', value: 0, key: 7 },\n    { name: 'monkey', value: 0, key: 8 },\n    { name: 'chick', value: 0, key: 9 },\n    { name: 'dog', value: 0, key: 10 },\n    { name: 'pig', value: 0, key: 11 },\n  ]\n   for(let i=0; i < endPoint; i++){\n    var target = qnaList[i].a[select[i]];\n    for(let j=0; j < target.type.length; j++){\n      for(let k=0; k < pointArray.length; k++){\n        if(target.type[j] === pointArray[k].name){\n          pointArray[k].value += 1;\n        }\n      }\n    }\n  }\n   var resultArray = pointArray.sort(function (a,b){\n    if(a.value > b.value){\n      return -1;\n    }\n    if(a.value < b.value){\n      return 1;\n    }\n    return 0;\n  });\n   */\n\n  /*\n  console.log(resultArray);\n  let resultword = resultArray[0].key;\n  return resultword;\n  */\n  var result = select.indexOf(Math.max.apply(Math, select));\n  console.log(result);\n  return result;\n}\n\nfunction setResult() {\n  var point = calResult();\n  var resultName = document.querySelector('.resultname');\n  resultName.innerHTML = infoList[point].name;\n  var resultImg = document.createElement('img');\n  var imgDiv = document.querySelector('#resultImg');\n  var imgURL = 'img/image-' + point + '.png';\n  resultImg.src = imgURL;\n  resultImg.alt = point;\n  resultImg.classList.add('img-fluid');\n  imgDiv.appendChild(resultImg);\n  var resultDesc = document.querySelector('.resultDesc');\n  resultDesc.innerHTML = infoList[point].desc;\n}\n\nfunction goResult() {\n  qna.style.WebkitAnimation = \"fadeOut 1s\";\n  qna.style.animation = \"fadeOut 1s\";\n  setTimeout(function () {\n    result.style.WebkitAnimation = \"fadeIn 1s\";\n    result.style.animation = \"fadeIn 1s\";\n    setTimeout(function () {\n      qna.style.display = \"none\";\n      result.style.display = \"block\";\n    }, 900);\n  }); //\n\n  console.log(select);\n  setResult(); //calResult();\n}\n\nfunction addAnswer(answerText, qIdx, idx) {\n  var a = document.querySelector('.answerBox');\n  var answer = document.createElement('button');\n  answer.classList.add('answerList');\n  answer.classList.add('my-3');\n  answer.classList.add('py-3');\n  answer.classList.add('mx-auto');\n  answer.classList.add('fadeIn');\n  a.appendChild(answer);\n  answer.innerHTML = answerText;\n  answer.addEventListener(\"click\", function () {\n    var children = document.querySelectorAll('.answerList');\n\n    for (var i = 0; i < children.length; i++) {\n      children[i].disabled = true;\n      children[i].style.WebkitAnimation = \"fadeOut 1s\";\n      children[i].style.animation = \"fadeOut 1s\";\n    }\n\n    setTimeout(function () {\n      //select[qIdx] = idx;\n      var target = qnaList[qIdx].a[idx].type;\n\n      for (var j = 0; j < target.length; j++) {\n        select[target[j]] += 1;\n      }\n\n      for (var _i = 0; _i < children.length; _i++) {\n        children[_i].style.display = 'none';\n      }\n\n      goNext(++qIdx);\n    }, 900);\n  }, false);\n}\n\nfunction goNext(qIdx) {\n  if (qIdx === endPoint) {\n    goResult();\n    return;\n  }\n\n  var q = document.querySelector('.qBox');\n  q.innerHTML = qnaList[qIdx].q;\n\n  for (var i in qnaList[qIdx].a) {\n    addAnswer(qnaList[qIdx].a[i].answer, qIdx, i);\n  }\n\n  var status = document.querySelector('.statusBar');\n  status.style.width = (qIdx + 1) / endPoint * 100 + '%'; //status.style.width = (100/endPoint) * (qIdx+1) + '%';\n}\n\nfunction begin() {\n  main.style.WebkitAnimation = \"fadeOut 1s\";\n  main.style.animation = \"fadeOut 1s\";\n  setTimeout(function () {\n    qna.style.WebkitAnimation = \"fadeIn 1s\";\n    qna.style.animation = \"fadeIn 1s\";\n    setTimeout(function () {\n      main.style.display = \"none\";\n      qna.style.display = \"block\";\n    }, 100);\n    var qIdx = 0;\n    goNext(qIdx);\n  }, 800);\n}","map":{"version":3,"sources":["/workspace/Rails6-T/app/javascript/packs/start.js"],"names":["main","document","querySelector","qna","result","endPoint","qnaList","length","select","calResult","indexOf","Math","max","console","log","setResult","point","resultName","innerHTML","infoList","name","resultImg","createElement","imgDiv","imgURL","src","alt","classList","add","appendChild","resultDesc","desc","goResult","style","WebkitAnimation","animation","setTimeout","display","addAnswer","answerText","qIdx","idx","a","answer","addEventListener","children","querySelectorAll","i","disabled","target","type","j","goNext","q","status","width","begin"],"mappings":"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","sourcesContent":["const main = document.querySelector(\"#main\");\nconst qna = document.querySelector(\"#qna\");\nconst result = document.querySelector(\"#result\")\nconst endPoint = qnaList.length;\n//const select = [];\nconst select = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n\nfunction calResult(){\n  /*\n  var pointArray = [\n    { name: 'mouse', value: 0, key: 0 },\n    { name: 'cow', value: 0, key: 1 },\n    { name: 'tiger', value: 0, key: 2 },\n    { name: 'rabbit', value: 0, key: 3 },\n    { name: 'dragon', value: 0, key: 4 },\n    { name: 'snake', value: 0, key: 5 },\n    { name: 'horse', value: 0, key: 6 },\n    { name: 'sheep', value: 0, key: 7 },\n    { name: 'monkey', value: 0, key: 8 },\n    { name: 'chick', value: 0, key: 9 },\n    { name: 'dog', value: 0, key: 10 },\n    { name: 'pig', value: 0, key: 11 },\n  ]\n\n  for(let i=0; i < endPoint; i++){\n    var target = qnaList[i].a[select[i]];\n    for(let j=0; j < target.type.length; j++){\n      for(let k=0; k < pointArray.length; k++){\n        if(target.type[j] === pointArray[k].name){\n          pointArray[k].value += 1;\n        }\n      }\n    }\n  }\n\n  var resultArray = pointArray.sort(function (a,b){\n    if(a.value > b.value){\n      return -1;\n    }\n    if(a.value < b.value){\n      return 1;\n    }\n    return 0;\n  });\n\n  */\n\n  /*\n  console.log(resultArray);\n  let resultword = resultArray[0].key;\n  return resultword;\n */\n\n  var result = select.indexOf(Math.max(...select));\n  console.log(result);\n  return result;\n\n}\n\nfunction setResult(){\n  let point = calResult();\n  const resultName = document.querySelector('.resultname');\n  resultName.innerHTML = infoList[point].name;\n\n  var resultImg = document.createElement('img');\n  const imgDiv = document.querySelector('#resultImg');\n  var imgURL = 'img/image-' + point + '.png';\n  resultImg.src = imgURL;\n  resultImg.alt = point;\n\n  resultImg.classList.add('img-fluid');\n  imgDiv.appendChild(resultImg);\n\n\n  const resultDesc = document.querySelector('.resultDesc');\n  resultDesc.innerHTML = infoList[point].desc;\n\n}\n\nfunction goResult(){\n  qna.style.WebkitAnimation = \"fadeOut 1s\";\n  qna.style.animation = \"fadeOut 1s\"\n\n  setTimeout(() => {\n    result.style.WebkitAnimation = \"fadeIn 1s\";\n    result.style.animation = \"fadeIn 1s\";\n    setTimeout(() => {\n      qna.style.display = \"none\";\n      result.style.display = \"block\";\n    }, 900)\n  })\n\n  //\n  console.log(select);\n  setResult();\n  //calResult();\n}\n\nfunction addAnswer(answerText, qIdx, idx){\n  var a = document.querySelector('.answerBox');\n  var answer = document.createElement('button');\n  answer.classList.add('answerList');\n  answer.classList.add('my-3');\n  answer.classList.add('py-3');\n  answer.classList.add('mx-auto');\n  answer.classList.add('fadeIn');\n  a.appendChild(answer);\n  answer.innerHTML = answerText;\n  answer.addEventListener(\"click\", function(){\n    var children = document.querySelectorAll('.answerList');\n    for(let i = 0; i < children.length; i++){\n      children[i].disabled = true;\n      children[i].style.WebkitAnimation = \"fadeOut 1s\";\n      children[i].style.animation = \"fadeOut 1s\"\n    }\n    setTimeout(() => {\n      //select[qIdx] = idx;\n      var target = qnaList[qIdx].a[idx].type;\n      for(let j=0; j < target.length; j++){\n          select[target[j]] += 1;\n      }\n\n      for(let i = 0; i < children.length; i++){\n        children[i].style.display = 'none';\n      }\n      goNext(++qIdx);\n    }, 900)\n\n  }, false);\n\n}\n\nfunction goNext(qIdx){\n  if(qIdx === endPoint){\n    goResult();\n    return;\n  }\n  var q = document.querySelector('.qBox');\n  q.innerHTML = qnaList[qIdx].q;\n  for(let i in qnaList[qIdx].a){\n    addAnswer(qnaList[qIdx].a[i].answer, qIdx, i);\n  }\n  var status = document.querySelector('.statusBar');\n  status.style.width = ( (qIdx+1) / endPoint)*100 + '%';\n  //status.style.width = (100/endPoint) * (qIdx+1) + '%';\n}\n\n\nfunction begin(){\n  main.style.WebkitAnimation = \"fadeOut 1s\";\n  main.style.animation = \"fadeOut 1s\"\n\n  setTimeout(() => {\n    qna.style.WebkitAnimation = \"fadeIn 1s\";\n    qna.style.animation = \"fadeIn 1s\";\n    setTimeout(() => {\n      main.style.display = \"none\";\n      qna.style.display = \"block\";\n    }, 100)\n    let qIdx = 0;\n    goNext(qIdx);\n  }, 800 );\n\n}\n"]},"metadata":{},"sourceType":"module"}